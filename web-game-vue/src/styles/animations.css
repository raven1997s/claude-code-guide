/**
 * 全局动画系统
 * 包含页面切换、元素进入、微交互动画
 *
 * @module animations
 * @description 基于 Design Tokens 的动画工具类
 */

/* ========================================
   1. 页面切换动画
   ======================================== */

/* 页面进入 */
.page-enter-active {
    animation: pageIn var(--duration-slow) var(--ease-out);
}

/* 页面离开 */
.page-leave-active {
    animation: pageOut var(--duration-slow) var(--ease-in);
}

@keyframes pageIn {
    from {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes pageOut {
    from {
        opacity: 1;
        transform: translateY(0);
    }

    to {
        opacity: 0;
        transform: translateY(-20px);
    }
}

/* ========================================
   2. 元素进入动画
   ======================================== */

/* Fade In Up */
.animate-fade-in-up {
    animation: fadeInUp var(--duration-base) var(--ease-out) forwards;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(16px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Fade In Scale */
.animate-fade-in-scale {
    animation: fadeInScale var(--duration-base) var(--ease-out) forwards;
}

@keyframes fadeInScale {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Stagger 延迟 (配合 nth-child 使用) */
.stagger-item:nth-child(1) {
    animation-delay: 0ms;
}

.stagger-item:nth-child(2) {
    animation-delay: 50ms;
}

.stagger-item:nth-child(3) {
    animation-delay: 100ms;
}

.stagger-item:nth-child(4) {
    animation-delay: 150ms;
}

.stagger-item:nth-child(5) {
    animation-delay: 200ms;
}

.stagger-item:nth-child(6) {
    animation-delay: 250ms;
}

.stagger-item:nth-child(7) {
    animation-delay: 300ms;
}

.stagger-item:nth-child(8) {
    animation-delay: 350ms;
}

.stagger-item:nth-child(9) {
    animation-delay: 400ms;
}

.stagger-item:nth-child(10) {
    animation-delay: 450ms;
}

/* ========================================
   3. 微交互动画
   ======================================== */

/* 按钮点击 */
.animate-click:active {
    animation: buttonClick var(--duration-fast) var(--ease-out);
}

@keyframes buttonClick {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(0.95);
    }

    100% {
        transform: scale(1);
    }
}

/* 成功脉冲 */
.animate-success-pulse {
    animation: successPulse var(--duration-base) var(--ease-out);
}

@keyframes successPulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }
}

/* 加载旋转 */
.animate-spin {
    animation: spin 600ms linear infinite;
}

@keyframes spin {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* 弹跳进入 */
.animate-bounce-in {
    animation: bounceIn var(--duration-slow) var(--ease-bounce);
}

@keyframes bounceIn {
    0% {
        opacity: 0;
        transform: scale(0.3);
    }

    50% {
        transform: scale(1.05);
    }

    70% {
        transform: scale(0.9);
    }

    100% {
        opacity: 1;
        transform: scale(1);
    }
}

/* 抖动提示 */
.animate-shake {
    animation: shake var(--duration-base) var(--ease-out);
}

@keyframes shake {

    0%,
    100% {
        transform: translateX(0);
    }

    20% {
        transform: translateX(-4px);
    }

    40% {
        transform: translateX(4px);
    }

    60% {
        transform: translateX(-4px);
    }

    80% {
        transform: translateX(4px);
    }
}

/* ========================================
   4. Hover 效果增强
   ======================================== */

/* 卡片抬升 */
.hover-lift {
    transition: transform var(--duration-base) var(--ease-out),
        box-shadow var(--duration-base) var(--ease-out);
}

.hover-lift:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

/* 卡片发光 */
.hover-glow {
    transition: box-shadow var(--duration-base) var(--ease-out);
}

.hover-glow:hover {
    box-shadow: 0 8px 32px rgba(99, 102, 241, 0.25);
}

/* 缩放 */
.hover-scale {
    transition: transform var(--duration-base) var(--ease-out);
}

.hover-scale:hover {
    transform: scale(1.02);
}

/* 3D 倾斜 */
.hover-3d {
    transform-style: preserve-3d;
    transition: transform var(--duration-slow) var(--ease-out);
}

.hover-3d:hover {
    transform: perspective(1000px) rotateX(2deg) rotateY(2deg) translateY(-4px);
}

/* ========================================
   5. 渐变动画
   ======================================== */

/* 背景渐变流动 */
.animate-gradient {
    background-size: 200% 200%;
    animation: gradientShift 8s ease infinite;
}

@keyframes gradientShift {

    0%,
    100% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }
}

/* ========================================
   6. 数字滚动动画 (配合 JS 使用)
   ======================================== */

.animate-number-pop {
    display: inline-block;
    animation: numberPop var(--duration-slow) var(--ease-bounce);
}

@keyframes numberPop {
    0% {
        transform: scale(0.5);
        opacity: 0;
    }

    70% {
        transform: scale(1.1);
    }

    100% {
        transform: scale(1);
        opacity: 1;
    }
}

/* ========================================
   7. 对勾动画 (完成状态)
   ======================================== */

.animate-checkmark {
    animation: checkmarkPop var(--duration-base) var(--ease-bounce);
}

@keyframes checkmarkPop {
    0% {
        transform: scale(0) rotate(-45deg);
    }

    50% {
        transform: scale(1.2) rotate(10deg);
    }

    100% {
        transform: scale(1) rotate(0deg);
    }
}

/* ========================================
   8. 庆祝动画
   ======================================== */

.animate-celebrate {
    animation: celebrate var(--duration-slow) var(--ease-bounce);
}

@keyframes celebrate {
    0% {
        transform: scale(1);
    }

    25% {
        transform: scale(1.1) rotate(-5deg);
    }

    50% {
        transform: scale(1.2) rotate(5deg);
    }

    75% {
        transform: scale(1.1) rotate(-5deg);
    }

    100% {
        transform: scale(1) rotate(0deg);
    }
}

/* ========================================
   9. 性能优化
   ======================================== */

/* GPU 加速 */
.gpu-accelerate {
    will-change: transform, opacity;
    transform: translateZ(0);
}

/* 包含优化 (减少重绘范围) */
.contain-paint {
    contain: layout style paint;
}

/* ========================================
   10. 可访问性 - 减少动画 (prefers-reduced-motion)
   ======================================== */

@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}